<view class="container">
  <view class="order-card card" wx:for="{{orders}}" wx:key="id" bindtap="goDetail" data-id="{{item.id}}">
    <view class="order-header">
      <text class="order-no">{{item.orderNo}}</text>
      <text class="status {{item.status}}">{{statusMap[item.status]}}</text>
    </view>
    <view class="order-body">
      <view class="info-row">
        <text class="label">入住日期</text>
        <text>{{item.checkInDate}} - {{item.checkOutDate}}</text>
      </view>
      <view class="info-row">
        <text class="label">入住人</text>
        <text>{{item.guestName}}</text>
      </view>
      <view class="info-row">
        <text class="label">订单金额</text>
        <text class="price">¥{{item.totalPrice}}</text>
      </view>
    </view>
    <view class="order-footer" wx:if="{{item.status === 'pending' || item.status === 'confirmed'}}">
      <button class="btn-cancel" size="mini" catchtap="cancelOrder" data-id="{{item.id}}">取消订单</button>
    </view>
  </view>
  
  <view class="empty" wx:if="{{orders.length === 0 && !loading}}">
    <text>暂无订单</text>
  </view>
  
  <view class="login-tip" wx:if="{{!isLogin}}">
    <text>请先登录查看订单</text>
    <button class="btn-login btn-primary" bindtap="goLogin">去登录</button>
  </view>
</view>
